<?php
?>
<div class="qdb-container <?php echo $block->getUiTabClass() ?>"
data-mage-init='{"magetabs":<?php echo $block->getJsonTabConfig(); ?>}'
role="tablist" style="display: block;">
    <ul class="ui-tabs-nav">
        <?php foreach($block->getTabBlocks() as $tabBlock): ?>
            <li data-role="collapsible<?php echo $block->getSubTabSuffix();?>" data-collapsible="true" id="<?php echo $tabBlock->getId() ?>" class="<?php echo $tabBlock->getClass() ?>">
                <a href="<?php echo $tabBlock->getTabUrl() ?>" tabindex="-1" data-toggle="switch" role="tab" data-ajax="<?php echo $tabBlock->isAjax() ?>">
                <?php if($tabBlock->getTitleImage()):?>
                    <img  class="qdb-img" src="<?php echo $block->getViewFileUrl($tabBlock->getTitleImage()) ?>">
                <?php endif;?>
                <?php echo $tabBlock->getTitle() ?>
                <?php if($tabBlock->getTitleBadge()):?>
                    <span class="qdb-tab-badge"><?php echo $tabBlock->getTitleBadge();?></span>
                <?php endif;?>
                </a>
            </li>
        <?php endforeach; ?>
    </ul>
    <?php foreach($block->getTabBlocks() as $tabBlock): ?>
        <div class="qdb-panel"  data-role="content<?php echo $block->getSubTabSuffix();?>" role="tabpanel" id="<?php echo $tabBlock->getId('panel-') ?>" >
            <?php echo ($tabBlock->isAjax(false)) ? $tabBlock->getHtmlBigLoader() : $tabBlock->toHtml(); ?>
        </div>
    <?php endforeach; ?>
</div>